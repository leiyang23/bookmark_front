(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35ac350f"],{1330:function(o,t,a){"use strict";var e=a("a1d9"),s=a.n(e);s.a},"6e7d":function(o,t,a){"use strict";var e=a("d45b"),s=a.n(e);s.a},a1d9:function(o,t,a){},d45b:function(o,t,a){},dae5:function(o,t,a){"use strict";var e=function(){var o=this,t=o.$createElement,a=o._self._c||t;return a("div",{staticClass:"bookmark-page",attrs:{title:o.title},on:{click:o.goto}},[a("div",[a("div",{staticClass:"logo"},[a("img",{attrs:{src:o.logo_url_}})]),a("div",{staticClass:"title"},[o._v("\n            "+o._s(o.title.length>12?o.title.substring(0,12)+"...":o.title)+"\n        ")])]),o.canClose?a("div",{staticClass:"close",on:{click:function(t){return t.stopPropagation(),o.onClose(t)}}},[a("span",{staticClass:"fa fa-times"})]):o._e()])},s=[],r={name:"Bookmark",props:{title:{default:"百度一下，你就上当"},url:{default:"https://www.baidu.com"},logo_url:{default:null},canClose:{default:!0}},computed:{logo_url_:function(){return this.logo_url?this.logo_url:"https://www.google.cn/s2/favicons?domain="+this.url}},methods:{goto:function(){window.open(this.url,"_blank")},onClose:function(){this.$emit("close")}}},l=r,i=(a("6e7d"),a("2877")),n=Object(i["a"])(l,e,s,!1,null,"98542098",null);t["a"]=n.exports},e9b6:function(o,t,a){"use strict";a.r(t);var e=function(){var o=this,t=o.$createElement,a=o._self._c||t;return a("div",{staticClass:"page"},[a("el-row",[a("el-col",{attrs:{span:16,offset:4}},[o._l(o.self_bookmarks,function(t,e){return a("div",[a("div",{staticClass:"category-title"},[a("div",[a("h3",[o._v(o._s(t.category_name))])]),a("div",{attrs:{title:"删除分类"},on:{click:function(a){return o.delCategory(t.id,e)}}},[a("span",{staticClass:"fa fa-minus"})])]),a("div",{staticClass:"category"},[o._l(t.bookmarks,function(t,s){return a("Bookmark",{attrs:{title:t.title,url:t.url},on:{close:function(t){return o.delBookmark(e,s)}}})}),a("div",{staticClass:"add-btn",attrs:{title:"添加书签"},on:{click:function(a){return o.showDialog(t.id,e)}}},[a("span",{staticClass:"fa fa-plus"})])],2)])}),a("div",{staticClass:"add-category-bar",attrs:{title:"添加分类"},on:{click:function(t){o.dialogFormVisible_2=!0}}},[a("span",{staticClass:"fa fa-plus"})])],2)],1),a("el-dialog",{attrs:{title:"添加书签",visible:o.dialogFormVisible},on:{"update:visible":function(t){o.dialogFormVisible=t}}},[a("el-form",{attrs:{model:o.bookmarkForm}},[a("el-form-item",{attrs:{label:"标题"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:o.bookmarkForm.title,callback:function(t){o.$set(o.bookmarkForm,"title",t)},expression:"bookmarkForm.title"}})],1),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:o.bookmarkForm.url,callback:function(t){o.$set(o.bookmarkForm,"url",t)},expression:"bookmarkForm.url"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){o.dialogFormVisible=!1}}},[o._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:o.addBookmark}},[o._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"添加分类",visible:o.dialogFormVisible_2},on:{"update:visible":function(t){o.dialogFormVisible_2=t}}},[a("el-form",{attrs:{model:o.categoryForm}},[a("el-form-item",{attrs:{label:"分类名称"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:o.categoryForm.category_name,callback:function(t){o.$set(o.categoryForm,"category_name",t)},expression:"categoryForm.category_name"}})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){o.dialogFormVisible_2=!1}}},[o._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:o.subCategory}},[o._v("确 定")])],1)],1)],1)},s=[],r=a("dae5"),l={name:"selfNav",components:{Bookmark:r["a"]},data:function(){return{c_index:1,bookmarkForm:{category_id:""},dialogFormVisible:!1,self_bookmarks:[],dialogFormVisible_2:!1,categoryForm:{category_name:""}}},mounted:function(){this.get_self_bookmark()},methods:{get_self_bookmark:function(){var o=this;o.$http({url:"/bookmark/category",params:{tag:2}}).then(function(t){0===t.data.errcode&&(o.self_bookmarks=t.data.data,console.log(o.self_bookmarks))})},showDialog:function(o,t){this.dialogFormVisible=!0,this.bookmarkForm.category_id=o,this.c_index=t},delBookmark:function(o,t){var a=this;console.log(o,t);var e=this;console.log(e.self_bookmarks[o].bookmarks[t]),e.$http({url:"/bookmark/bookmark",method:"DELETE",data:{bookmark_id:e.self_bookmarks[o].bookmarks[t].id}}).then(function(s){0==s.data.errcode?(e.$message({message:"删除成功",type:"success"}),a.self_bookmarks[o].bookmarks.splice(t,1)):e.$message({message:s.data.msg,type:"error"})})},addBookmark:function(){var o=this;console.log(o.self_bookmarks[o.c_index]),o.$http({url:"/bookmark/bookmark",method:"POST",data:{category_id:o.self_bookmarks[o.c_index].id,title:o.bookmarkForm.title,url:o.bookmarkForm.url}}).then(function(t){0==t.data.errcode?(o.$message({message:"添加成功",type:"success"}),o.self_bookmarks[o.c_index].bookmarks.push(o.bookmarkForm),o.bookmarkForm={},o.dialogFormVisible=!1):o.$message({message:t.data.msg,type:"error"})})},subCategory:function(){var o=this;o.$http({url:"/bookmark/category",method:"POST",data:{category_name:o.categoryForm.category_name}}).then(function(t){0==t.data.errcode&&(o.self_bookmarks.push({id:t.data.data.id,category_name:o.categoryForm.category_name,bookmarks:[]}),o.dialogFormVisible_2=!1)})},delCategory:function(o,t){var a=this;a.$http({url:"/bookmark/category",method:"DELETE",data:{category_id:o}}).then(function(o){0==o.data.errcode&&(a.$message({message:"已删除",type:"success"}),a.self_bookmarks.splice(t,1))})}}},i=l,n=(a("1330"),a("2877")),c=Object(n["a"])(i,e,s,!1,null,"319f3132",null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-35ac350f.447c5bed.js.map