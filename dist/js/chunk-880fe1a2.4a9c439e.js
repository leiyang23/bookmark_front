(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-880fe1a2"],{"6e7d":function(t,o,e){"use strict";var a=e("d45b"),r=e.n(a);r.a},b570:function(t,o,e){},b835:function(t,o,e){"use strict";var a=e("b570"),r=e.n(a);r.a},d45b:function(t,o,e){},dae5:function(t,o,e){"use strict";var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"bookmark-page",attrs:{title:t.title},on:{click:t.goto}},[e("div",[e("div",{staticClass:"logo"},[e("img",{attrs:{src:t.logo_url_}})]),e("div",{staticClass:"title"},[t._v("\n            "+t._s(t.title.length>12?t.title.substring(0,12)+"...":t.title)+"\n        ")])]),t.canClose?e("div",{staticClass:"close",on:{click:function(o){return o.stopPropagation(),t.onClose(o)}}},[e("span",{staticClass:"fa fa-times"})]):t._e()])},r=[],s={name:"Bookmark",props:{title:{default:"百度一下，你就上当"},url:{default:"https://www.baidu.com"},logo_url:{default:null},canClose:{default:!0}},computed:{logo_url_:function(){return this.logo_url?this.logo_url:"https://www.google.cn/s2/favicons?domain="+this.url}},methods:{goto:function(){window.open(this.url,"_blank")},onClose:function(){this.$emit("close")}}},i=s,l=(e("6e7d"),e("2877")),n=Object(l["a"])(i,a,r,!1,null,"98542098",null);o["a"]=n.exports},e9b6:function(t,o,e){"use strict";e.r(o);var a=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"page"},[e("el-row",[e("el-col",{attrs:{span:16,offset:4}},[t._l(t.self_bookmarks,function(o,a){return e("div",[e("div",{staticClass:"category-title"},[e("div",[e("h3",[t._v(t._s(o.category_name))])]),e("div",{attrs:{title:"删除分类"},on:{click:function(e){return t.delCategory(o.category_id,a)}}},[e("span",{staticClass:"fa fa-minus"})])]),e("div",{staticClass:"category"},[t._l(o.bookmarks,function(o,r){return e("Bookmark",{attrs:{title:o.title,url:o.url},on:{close:function(o){return t.delBookmark(a,r)}}})}),e("div",{staticClass:"add-btn",attrs:{title:"添加书签"},on:{click:function(e){return t.showDialog(o.category_id,a)}}},[e("span",{staticClass:"fa fa-plus"})])],2)])}),e("div",{staticClass:"add-category-bar",attrs:{title:"添加分类"},on:{click:function(o){t.dialogFormVisible_2=!0}}},[e("span",{staticClass:"fa fa-plus"})])],2)],1),e("el-dialog",{attrs:{title:"添加书签",visible:t.dialogFormVisible},on:{"update:visible":function(o){t.dialogFormVisible=o}}},[e("el-form",{attrs:{model:t.bookmarkForm}},[e("el-form-item",{attrs:{label:"标题"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.bookmarkForm.title,callback:function(o){t.$set(t.bookmarkForm,"title",o)},expression:"bookmarkForm.title"}})],1),e("el-form-item",{attrs:{label:"地址"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.bookmarkForm.url,callback:function(o){t.$set(t.bookmarkForm,"url",o)},expression:"bookmarkForm.url"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogFormVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.addBookmark}},[t._v("确 定")])],1)],1),e("el-dialog",{attrs:{title:"添加分类",visible:t.dialogFormVisible_2},on:{"update:visible":function(o){t.dialogFormVisible_2=o}}},[e("el-form",{attrs:{model:t.categoryForm}},[e("el-form-item",{attrs:{label:"分类名称"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.categoryForm.category_name,callback:function(o){t.$set(t.categoryForm,"category_name",o)},expression:"categoryForm.category_name"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(o){t.dialogFormVisible_2=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.subCategory}},[t._v("确 定")])],1)],1)],1)},r=[],s=e("dae5"),i={name:"selfNav",components:{Bookmark:s["a"]},data:function(){return{index:1,bookmarkForm:{category_id:""},dialogFormVisible:!1,self_bookmarks:[],dialogFormVisible_2:!1,categoryForm:{category_name:""}}},mounted:function(){this.get_self_bookmark()},methods:{get_self_bookmark:function(){var t=this;t.$http({url:"/bookmark/self_bookmark",params:{github_id:JSON.parse(localStorage.getItem("user")).github_id}}).then(function(o){0===o.data.errcode&&(t.self_bookmarks=o.data.data)})},showDialog:function(t,o){this.dialogFormVisible=!0,this.bookmarkForm.category_id=t,this.index=o},delBookmark:function(t,o){var e=this,a=this,r=JSON.parse(localStorage.getItem("user"));a.$http({url:"/bookmark/del_bookmark",method:"POST",data:{github_id:r.github_id,token:r.token,category_id:a.self_bookmarks[t],bookmark_id:a.self_bookmarks[t].bookmarks[o].bookmark_id}}).then(function(r){0==r.data.errcode?(a.$message({message:"删除成功",type:"success"}),e.self_bookmarks[t].bookmarks.splice(o,1)):a.$message({message:r.data.msg,type:"error"})})},addBookmark:function(){var t=this,o=JSON.parse(localStorage.getItem("user"));t.$http({url:"/bookmark/add_bookmark",method:"POST",data:{github_id:o.github_id,token:o.token,category_id:t.self_bookmarks[this.index].category_id,title:t.bookmarkForm.title,url:t.bookmarkForm.url}}).then(function(o){0==o.data.errcode?(t.$message({message:"添加成功",type:"success"}),t.self_bookmarks[t.index].bookmarks.push(t.bookmarkForm),t.bookmarkForm={},t.dialogFormVisible=!1):t.$message({message:o.data.msg,type:"error"})})},subCategory:function(){var t=this,o=JSON.parse(localStorage.getItem("user"));t.$http({url:"/bookmark/add_category",method:"POST",data:{github_id:o.github_id,token:o.token,category_name:t.categoryForm.category_name}}).then(function(o){0==o.data.errcode&&(t.self_bookmarks.push({category_id:o.data.data.category_id,category_name:o.data.data.category_name,self_bookmarks:[]}),t.dialogFormVisible_2=!1)})},delCategory:function(t,o){var e=this,a=JSON.parse(localStorage.getItem("user"));e.$http({url:"/bookmark/del_category",method:"POST",data:{github_id:a.github_id,token:a.token,category_id:t}}).then(function(t){0==t.data.errcode&&(e.$message({message:"已删除",type:"success"}),e.self_bookmarks.splice(o,1))})}}},l=i,n=(e("b835"),e("2877")),c=Object(n["a"])(l,a,r,!1,null,"d42a6642",null);o["default"]=c.exports}}]);
//# sourceMappingURL=chunk-880fe1a2.4a9c439e.js.map